\hypertarget{classFixedFilter}{}\doxysection{Fixed\+Filter Class Reference}
\label{classFixedFilter}\index{FixedFilter@{FixedFilter}}


{\ttfamily \#include $<$Filter\+Fixed.\+h$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classFixedFilter_a5e72fbe3de2afce761259805bae8b0f5}\label{classFixedFilter_a5e72fbe3de2afce761259805bae8b0f5}} 
void {\bfseries init} (\mbox{\hyperlink{group__temps_ga1289740b9060cd2dfe3872bffa2e8da3}{temperature}} val)
\item 
\mbox{\Hypertarget{classFixedFilter_af8f6d73a1aa29d9474dd839bb3658084}\label{classFixedFilter_af8f6d73a1aa29d9474dd839bb3658084}} 
void {\bfseries set\+Coefficients} (uint8\+\_\+t b\+Value)
\item 
\mbox{\Hypertarget{classFixedFilter_a690d7ce96bbc28af66fcb88fba1c2061}\label{classFixedFilter_a690d7ce96bbc28af66fcb88fba1c2061}} 
\mbox{\hyperlink{group__temps_ga1289740b9060cd2dfe3872bffa2e8da3}{temperature}} {\bfseries add} (\mbox{\hyperlink{group__temps_ga1289740b9060cd2dfe3872bffa2e8da3}{temperature}} val)
\item 
\mbox{\Hypertarget{classFixedFilter_a69e578e3e855162321a213b3e565b779}\label{classFixedFilter_a69e578e3e855162321a213b3e565b779}} 
\mbox{\hyperlink{group__temps_ga0ffefb66fc0b4d42bdd2a5df54db3680}{temperature\+\_\+precise}} {\bfseries add\+Double\+Precision} (\mbox{\hyperlink{group__temps_ga0ffefb66fc0b4d42bdd2a5df54db3680}{temperature\+\_\+precise}} val)
\item 
\mbox{\Hypertarget{classFixedFilter_a8068cf11532ff428088ee782508e10f7}\label{classFixedFilter_a8068cf11532ff428088ee782508e10f7}} 
\mbox{\hyperlink{group__temps_ga1289740b9060cd2dfe3872bffa2e8da3}{temperature}} {\bfseries read\+Output} (void)
\item 
\mbox{\Hypertarget{classFixedFilter_a762ec4cf16773e68e52cbbe78a240e8c}\label{classFixedFilter_a762ec4cf16773e68e52cbbe78a240e8c}} 
\mbox{\hyperlink{group__temps_ga1289740b9060cd2dfe3872bffa2e8da3}{temperature}} {\bfseries read\+Input} (void)
\item 
\mbox{\Hypertarget{classFixedFilter_afba168b5eee66f1f481a0d1955ed05d2}\label{classFixedFilter_afba168b5eee66f1f481a0d1955ed05d2}} 
\mbox{\hyperlink{group__temps_ga0ffefb66fc0b4d42bdd2a5df54db3680}{temperature\+\_\+precise}} {\bfseries read\+Output\+Double\+Precision} (void)
\item 
\mbox{\Hypertarget{classFixedFilter_a7c2feea36aa6188da8e159b92dfaac74}\label{classFixedFilter_a7c2feea36aa6188da8e159b92dfaac74}} 
\mbox{\hyperlink{group__temps_ga0ffefb66fc0b4d42bdd2a5df54db3680}{temperature\+\_\+precise}} {\bfseries read\+Prev\+Output\+Double\+Precision} (void)
\item 
\mbox{\Hypertarget{classFixedFilter_af7d62c305825fd2a5671793ea6f9a03a}\label{classFixedFilter_af7d62c305825fd2a5671793ea6f9a03a}} 
\mbox{\hyperlink{group__temps_ga1289740b9060cd2dfe3872bffa2e8da3}{temperature}} {\bfseries detect\+Pos\+Peak} (void)
\item 
\mbox{\Hypertarget{classFixedFilter_a9f3fb220884212e66759adfa358dc5e4}\label{classFixedFilter_a9f3fb220884212e66759adfa358dc5e4}} 
\mbox{\hyperlink{group__temps_ga1289740b9060cd2dfe3872bffa2e8da3}{temperature}} {\bfseries detect\+Neg\+Peak} (void)
\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classFixedFilter_a2cae36f064bbade312613d7aac4796da}\label{classFixedFilter_a2cae36f064bbade312613d7aac4796da}} 
\mbox{\hyperlink{group__temps_ga0ffefb66fc0b4d42bdd2a5df54db3680}{temperature\+\_\+precise}} {\bfseries xv} \mbox{[}3\mbox{]}
\item 
\mbox{\Hypertarget{classFixedFilter_a0d5bbb51ab3ceb3e1f0c80da0a544678}\label{classFixedFilter_a0d5bbb51ab3ceb3e1f0c80da0a544678}} 
\mbox{\hyperlink{group__temps_ga0ffefb66fc0b4d42bdd2a5df54db3680}{temperature\+\_\+precise}} {\bfseries yv} \mbox{[}3\mbox{]}
\item 
\mbox{\Hypertarget{classFixedFilter_a1f73e49d8e563034186bdd9fe2c06e32}\label{classFixedFilter_a1f73e49d8e563034186bdd9fe2c06e32}} 
uint8\+\_\+t {\bfseries a}
\item 
\mbox{\Hypertarget{classFixedFilter_a549d406910f03b86ccfa3e7572b40c68}\label{classFixedFilter_a549d406910f03b86ccfa3e7572b40c68}} 
uint8\+\_\+t {\bfseries b}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This class implements an I\+IR low pass filter, with the following frequency response

\[ H(z) = 2^{-a} \frac{1 + 2z^{-1} + 1z^{-2}}{1 + (-2 + 2^{-b})z^{-1} + (1-2^{-b} + 4* 2^{-a})z^{-2}} \]


\begin{DoxyItemize}
\item All filter coefficients are powers of two, so the filter can be efficiently implemented with bit shifts
\item The DC gain is exactly 1.
\item For real poles, and therefore no overshoot, use $ a <= 2b+4 $.
\item To calculate the poles, you can use this \href{http://www.wolframalpha.com/input/?i=solve+\%281++\%2B+\%28-2+\%2B+2^-b\%29z^-1++\%2B+\%281-2^-b+\%2B+4*+2^-a\%29z^-2\%29+\%3D+0+where+a+\%3D+24+and+b+\%3D+10}{\texttt{ wolfram alpha link}}
\item The filter has a zero at $z = -1$
\item For $a=2b+4$, it has a pole at $z = \frac{(2^{b+1}-1)}{2^{b+1}}$

Here are the specifications for a single stage filter, for values $a=2b+4$ The delay time is the time it takes to rise to 0.\+5 in a step response. When cascaded filters are used, multiply the delay time by the number of cascades.
\end{DoxyItemize}

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ a  }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ b  }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Delay Time   }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ a  }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ b  }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Delay Time   }\\\cline{1-3}
\endhead
4  &0  &3   \\\cline{1-3}
6  &1  &6   \\\cline{1-3}
8  &2  &13   \\\cline{1-3}
10  &3  &26   \\\cline{1-3}
12  &4  &53   \\\cline{1-3}
14  &5  &106   \\\cline{1-3}
16  &6  &213   \\\cline{1-3}
\end{longtabu}


Use this M\+A\+T\+L\+AB script to visualize the filter\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{NUM\_SECTIONS=1;}
\DoxyCodeLine{a=6; b=1; FS=1;}
\DoxyCodeLine{DEN = [1  , -\/2 + 2\string^-\/b  , 1-\/2\string^-\/b+ 4*2\string^-\/a];}
\DoxyCodeLine{NUM = 2\string^(-\/a)*[1, 2, 1];}
\DoxyCodeLine{F=dfilt.df2(NUM,DEN);}
\DoxyCodeLine{H=F;}
\DoxyCodeLine{\textcolor{keywordflow}{for} i=2:NUM\_SECTIONS}
\DoxyCodeLine{H=dfilt.cascade(H,F);}
\DoxyCodeLine{end}
\DoxyCodeLine{\%H=F\string^NUM\_SECTIONS;}
\DoxyCodeLine{h=fvtool(H,\textcolor{stringliteral}{'Fs'},FS)}
\DoxyCodeLine{zeropos = roots(NUM)}
\DoxyCodeLine{polepos = roots(DEN)}
\DoxyCodeLine{set(h,\textcolor{stringliteral}{'FrequencyRange'}, \textcolor{stringliteral}{'Specify freq. vector'});}
\DoxyCodeLine{set(h,\textcolor{stringliteral}{'FrequencyScale'},\textcolor{stringliteral}{'Log'})}
\DoxyCodeLine{set(h,'FrequencyVector', logspace(-\/4,0,1000));}
\end{DoxyCode}
 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/Filter\+Fixed.\+h\item 
src/Filter\+Fixed.\+cpp\end{DoxyCompactItemize}
